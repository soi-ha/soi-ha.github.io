---
layout: post
categories:
  - TIL
title: "TypeScript: Basic Types Ep.4 (ant, unknown, never, void)"
tags:
  - TIL
  - TS
---

## __any__
---
any는 어떤 것이든 할 수 있다라는 의미이다.   
어떤 타입이어도 상관이 없는 타입이지만, 최대한 사용하지 않는 것이 좋다.  
컴파일 타임에 타입 체크가 정상적으로 이루어지지 않기 때문이다. 그래서 컴파일 옵션 중에는 any를 써야하는데 쓰지 않으면 오류를 뱉는 옵션도 있다.(nolmplicitAny)

```tsx
function returnAny(message: any): any {
	console.log(message);
}

const any1 = returnAny("리턴은 아무거나");

any1.toString();
```
returnAny의 인자값은 어떤 값이든 들어올 수 있다. any이기 때문이다.  
any1은 any이기 때문에 문자열만 사용할 수 있는 것도 사용이 가능하다.

- any의 전파
    
  any는 개체를 통해 계속 전파한다. 이로인해 타입의 안정성을 잃게 된다.   
  타입 안정성은 타입스크립트를 사용하는 주요 동기 중 하나이다. 그렇기에 필요하지 않은 경우에는 any를 사용하지 않도록 해야한다.
  ```tsx
  let looselyTyped: any = {};
  
  let d = looselyTyped.a.b.c.d;
  ```
  `looselyTyped.a.b.c.d;`를 해도 Error가 나지 않는다. 그리고 이 결과는 d에 any로 들어가게 된다. 해당 any들이 개체를 통해서 전파된다는 것이다.
  
  - any 전파 문제점
    ```tsx
    function leakingAny(obj: any) {
      const a = obj.num;
      const b = a + 1;
      return b;
    }
    
    const c = leakingAny({ num: 0})
    ```
    a도 any, b도 any, c또한 any이다. c는 number로 규정되어 나와야 하는데 말이다. 이것이 any의 전파로 인한 문제이다.
      
  - 누수 막기
    ```tsx
    function leakingAny(obj: any) {
      const a: number = obj.num;
      const b = a + 1;
      return b;
    }
    
    const c = leakingAny({ num: 0})
    ```
    해당 문제점을 해결하고 싶다면 a에 number를 추가해준다. 이로인해 누수가 막히면서 b도 number, c도 number가 된다.

## __unknown__
---
any가 가지고 있는 타입의 불안정한 요소를 해소시켜준다.  
any와 짝꿍이며 any보다 타입 안정성이 있다.  
unknown은 any처럼 아무거나 할당할 수 있다.   
그러나, 컴파일러가 타입을 추론할 수 있게끔 타입의 유형을 좁히거나, 타입을 정해주지 않으면 다른 곳에 할당할 수 없고, 사용할 수 없다.

우리는 응용 프로그램을 작성할 때 모르는 변수의 타입을 묘사해야 할 수도 있다. 보통 모르는 변수의 타입을 any로 묘사했었다.   
이러한 값은 API를 얻어서 오는 동적 콘텐츠 같은 것이다. 이러한 경우, 컴파일러와 다른 사람이 해당 코드를 읽을 때 해당 변수가 동적이기 때문에 어떤 것이든 될 수 있다는 것을 알려주는 타입이 필요했다. 기존에는 any로 사용했지만 any 이후에 오는 코드들이 any의 영향을 받으면서 코드 안정성을 해치는 문제가 생긴다.  
이러한 부분을 타입적으로 강제하기 위해서 unknown을 사용하게 되었다.

- unknown은 number로 지정할 수 없다.
    
  unknown의 타입을 한정시켜야 한다. 
  ```tsx
  declare const maybe: unknown;
  
  const aNumber: number = maybe;
  // Type 'unknown' is not assignable to type 'number'.
  ```