---
layout: post
categories:
  - TIL
title: "TypeScript: Type System Ep.2 Structural Type System vs Nominal Type System"
tags:
  - TIL
  - TS
---
## __Structural Type System vs Nominal Type System__
---

- Structural Type System
    
  구조가 같으면 같은 타입으로 취급하는 방식이다.  
  대표적인 언어로 타입스크립트가 있다.
  ```tsx
  interface IPerson {
    name: string;
    age: number;
    speak(): string;
  }
  
  type PersonType = {
    name: string;
    age: number;
    speak(): string;
  }
  
  let personInterface: Iperson = {} as any;
  let personType: PersonType = {} as any;
  
  personInterface = personType; // 문제 없음
  personType = personInterface; // 구조가 동일하기 때문
  ```
  Iperson과 PersonType은 똑같은 구조를 가지고 있기 때문에 한쪽 타입을 한쪽 타입으로 대입할 수 있다.
  
  이러한 원리를 이용해서 타입스크립트에서는 해당 타입이 무엇인지 명시적으로 설정할 필요 없이 있던 것을 사용해도 된다. 구조가 동일하면 그냥 가져다가 쓰면 되기 때문이다.
    
- Nominal Type System
  
  구조가 같아도 이름이 다르면 다른 타입이다.  
  대표적인 언어로 C, Java가 있다.
  ```tsx
  type PersonID = string & { readonly brand: unique symbol };
  
  function PersonID(id: string): PersonID {
    return id as PersonID;
  }
  
  function getPersonById(id: PersonID) {}
  
  getPersonById(PersonID('id-aaaaaa');
  getPersonById('id-aaaaaa');
  // error: 아무 문자열이나 넣을 수 없고 PersonID 형식으로 치환된 타입만 넣을 수 있다.
  ```
    
- Duck Typing
    
  런타임에 발생하는 타이핑방식이다.  
  만약 어떤 새가 오리처럼 걷고, 헤엄치고, 소리를 낸다면 우리는 그 새를 오리라고 부를 것이다. 라는 철학을 가지고 만든 것이다.  
  대표적으로 Python이 있다.
  ```python
  class Duck:
    def sound(self):
      print u"꽥꽥"
  
  class Dog:
    def sound(self):
      print u"멍멍"
  
  def get_sound(animal):
    animal.sound()
  
  def main():
    bird = Duck()
    dog = Dog()
    get_sound(bird)
    get_sound(dog)
  ```