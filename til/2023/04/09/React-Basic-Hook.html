<!DOCTYPE html>
<html lang="ko">
	<head>
	<link href="https://gmpg.org/xfn/11" rel="profile" />
	<link rel="canonical" href="https://soi-ha.github.io/" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<meta name="google-site-verification" content="qN4GDLliD7yUtladZQRlgUB6Xnm-2G2G0yEVA44Ls5k" />

	<!-- Enable responsiveness on mobile devices-->
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />
	<meta name="robots" content="index, follow" />
	<meta name="keywords" content="프론트엔드, frontend, FE, 개발자" />
	<meta name="description" content="프론트엔드 개발자 소하의 개발 블로그" />

	<!-- Open Graph -->
	<meta property="og:title" content="Soha의 develog" />
	<meta property="og:description" content="프론트엔드 개발자 소하의 개발 블로그" />
	<meta property="og:image" content="https://soi-ha.github.io/favicon.png" />
	<meta property="og:url" content="https://soi-ha.github.io/" />

	<!-- Twitter Card -->
	<meta name="twitter:card" content="summary_large_image" />
	<meta name="twitter:title" content="Soha의 develog" />
	<meta name="twitter:description" content="프론트엔드 개발자 소하의 개발 블로그" />
	<meta name="twitter:image" content="https://soi-ha.github.io/favicon.png" />

	<title>
		 React: Basic Hook (useState, useEffect) &middot; Soha 
	</title>

	


	<!-- CSS -->
	<link rel="stylesheet" href="/assets/css/main.css" /> 

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Abril+Fatface" />

	<!-- Icons -->
	<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/favicon.png" />
<link rel="shortcut icon" href="/favicon.ico" />

	<!-- RSS -->
	<link
		rel="alternate"
		type="application/rss+xml"
		title="RSS"
		href="/feed.xml"
	/>

	<!-- Additional head bits without overriding original head -->
</head>


	<body class="post">
		<div id="sidebar">
  <header>
    <div class="site-title">
      <a href="/">
        
          <span class="back-arrow icon"><svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
  <path d="M0 0h24v24H0z" fill="none"/>
  <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
</svg></span>
        
        Soha
      </a>
    </div>
    <p class="lead">프론트엔드 개발자가 되기 위한 발걸음 기록</p>
  </header>
  <nav id="sidebar-nav-links">
  
    <a class="home-link "
        href="/">Home</a>
  
  

  

  


  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  

  


  


  
    
  

  
    
      <a class="category-link "
          href="/category/TIL.html">TIL</a>
    
  

  
    
  

  
    
      <a class="category-link "
          href="/category/project.html">Project</a>
    
  

  
    
  

  
    
      <a class="category-link "
          href="/category/sohaLog.html">Soha's Log</a>
    
  

  
    
  

  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  

  


  <!-- Optional additional links to insert in sidebar nav -->
</nav>


  

  <nav id="sidebar-icon-links">
  

  <a id="subscribe-link"
     class="icon" title="Subscribe" aria-label="Subscribe"
     href="/feed.xml">
    <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <circle cx="6.18" cy="17.82" r="2.18"/>
    <path d="M4 4.44v2.83c7.03 0 12.73 5.7 12.73 12.73h2.83c0-8.59-6.97-15.56-15.56-15.56zm0 5.66v2.83c3.9 0 7.07 3.17 7.07 7.07h2.83c0-5.47-4.43-9.9-9.9-9.9z"/>
</svg>
  </a>

  
  
  
  

  
    <a id="tags-link"
       class="icon"
       title="Tags" aria-label="Tags"
       href="/tags.html">
      <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16z"/>
</svg>
    </a>
  

  
    <a id="search-link"
       class="icon"
       title="Search" aria-label="Search"
       href="/search.html">
      <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>
    </a>
  

  <!-- Optional additional links to insert for icons links -->
</nav>

  <p>
  &copy; 2025.
  <a href="/LICENSE.md">MIT License.</a>
</p>

</div>

		<main class="container"><header>
  <h1 class="post-title">React: Basic Hook (useState, useEffect)</h1>
</header>
<div class="content">
  <div class="post-meta">
  <span class="post-date">09 Apr 2023</span>
  <span class="post-categories">
    
      &bull;

      
      
      

      
        <a href="/category/TIL.html">
          TIL
        </a>
      
    
  </span>
</div>


  <div class="post-body">
    <h2 id="hook"><strong>Hook</strong></h2>

<hr />

<p>19년도 이전에는 함수형 컴포넌트는 state와 라이프사이클을 지원하지 않았다. 그렇기에 클래스형 컴포넌트를 많이 사용했지만 React v16부터 <strong>Hook</strong>을 통해 state와 라이프사이클 관리가 가능해지면서 공식적으로 함수형 컴포넌트 사용을 권장하기 시작했다.</p>

<p>Hook은 useState를 사용해서 state를 관리할 수 있고, useEffect를 사용해서 라이프사이클을 관리할 수 있다.</p>

<p>Hook은 React 내부에 있는 API이기에 별도로 라이브러리를 설치하지 않아도 된다.</p>

<h2 id="usestate"><strong>useState</strong></h2>

<hr />

<p>class component의 state를 대체 할 수 있다.</p>

<p><strong>Class Component</strong></p>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">export</span> <span class="k">default</span> <span class="kd">class</span> <span class="nc">Example1</span> <span class="kd">extends</span> <span class="nc">React</span><span class="p">.</span><span class="nx">Component</span> <span class="p">{</span>
	<span class="nx">state</span> <span class="o">=</span> <span class="p">{</span> <span class="na">count</span><span class="p">:</span> <span class="mi">0</span> <span class="p">};</span>

	<span class="nf">render</span><span class="p">()</span> <span class="p">{</span>
		<span class="kd">const</span> <span class="p">{</span> <span class="nx">count</span> <span class="p">}</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">;</span>

		<span class="nf">retrun</span><span class="p">(</span>
			<span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
				<span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>You clicked <span class="si">{</span><span class="nx">count</span><span class="si">}</span> times<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
				<span class="p">&lt;</span><span class="nt">button</span> <span class="na">onClick</span><span class="p">=</span><span class="si">{</span><span class="nx">click</span><span class="si">}</span><span class="p">&gt;</span>Click me<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
			<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
		<span class="p">);</span>
	<span class="p">}</span>

	<span class="nx">click</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
		<span class="k">this</span><span class="p">.</span><span class="nf">setState</span><span class="p">({</span> <span class="na">count</span><span class="p">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">count</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">});</span>
	<span class="p">};</span>
<span class="p">}</span>
</code></pre></div></div>

<p><strong>Function Component</strong></p>

<p>useState를 사용해서 function component 안에 특정 값을 state처럼 사용하기</p>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nf">Example2</span><span class="p">()</span> <span class="p">{</span>
	<span class="kd">const</span> <span class="p">[</span><span class="nx">count</span><span class="p">,</span> <span class="nx">setCount</span><span class="p">]</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nf">useState</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>

	<span class="nf">retrun</span><span class="p">(</span>
		<span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
			<span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>You clicked <span class="si">{</span><span class="nx">count</span><span class="si">}</span> times<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
			<span class="p">&lt;</span><span class="nt">button</span> <span class="na">onClick</span><span class="p">=</span><span class="si">{</span><span class="nx">click</span><span class="si">}</span><span class="p">&gt;</span>Click me<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
		<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
	<span class="p">);</span>

	<span class="kd">function</span> <span class="nf">click</span><span class="p">()</span> <span class="p">{</span>
		<span class="nf">setCount</span><span class="p">(</span><span class="nx">count</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
	<span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>useState()안의 인자가 class 컴포넌트의 count: 0 과 같은 초기값이다. 따라서 인자로 0을 넣어준다.</p>

<p>React.useState(0)를 한 결과물은 배열이다. 배열의 앞 인덱스는 useState의 0, state(count)가 업데이트 됐을 때, 변경된 값을 의미한다. 즉, 앞 인덱스는 count를 작성하면 된다.<br />
두번째 인덱스는 count를 바꾸는 함수를 제공한다. 따라서 우리는 함수 이름을 setCount라고 명한다.</p>

<p>클릭을 했을 때, setCount가 호출되도록 한다. setCount는 클릭시, count 값이 증가하는 로직을 작성한다.</p>

<p>setCount가 하는 역할은 count의 값을 변경하는 것 + Example2 함수를 다시 실행하는 것이다.<br />
변경한 값을 적용하고 해당 값에 다시 값을 추가해야 하므로, 해당 함수를 다시 실행하기 때문이다.</p>

<ul>
  <li>
    <p><strong>useState를 객체를 사용하는 것으로 변경하기</strong></p>

    <p>현재는 <code class="language-plaintext highlighter-rouge">useState ⇒ count</code> 로 작성했지만 <code class="language-plaintext highlighter-rouge">useState ⇒ { count: 0 };</code> 로 변경해본다.</p>

    <p>class component의 state객체 처럼 사용하는 것과 유사하다.</p>

    <p>useState의 초기값으로 0이 아닌 state 객체를 넣어준다. <code class="language-plaintext highlighter-rouge">{ count: 0 }</code></p>

    <p>인덱스 첫번째 부분은 count가 아니라 <code class="language-plaintext highlighter-rouge">state</code>라고 부른다.<br />
setCount 또한 이름이 정해진 것이 아니고, 우리가 의도를 담아서 이름을 지을 수 있기 때문에 <code class="language-plaintext highlighter-rouge">setState</code>라고 변경한다.</p>

    <p>이제는 count가 아닌 <code class="language-plaintext highlighter-rouge">state.count</code>로 변경한다.</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nf">Example2</span><span class="p">()</span> <span class="p">{</span>
	<span class="kd">const</span> <span class="p">[</span><span class="nx">state</span><span class="p">,</span> <span class="nx">setState</span><span class="p">]</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nf">useState</span><span class="p">({</span> <span class="na">count</span><span class="p">:</span> <span class="mi">0</span> <span class="p">});</span>

	<span class="nf">retrun</span><span class="p">(</span>
		<span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
			<span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>You clicked <span class="si">{</span><span class="nx">state</span><span class="p">.</span><span class="nx">count</span><span class="si">}</span> times<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
			<span class="p">&lt;</span><span class="nt">button</span> <span class="na">onClick</span><span class="p">=</span><span class="si">{</span><span class="nx">click</span><span class="si">}</span><span class="p">&gt;</span>Click me<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
		<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
	<span class="p">);</span>

	<span class="kd">function</span> <span class="nf">click</span><span class="p">()</span> <span class="p">{</span>
		<span class="nf">setState</span><span class="p">({</span> <span class="na">count</span><span class="p">:</span> <span class="nx">state</span><span class="p">.</span><span class="nx">count</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">});</span>
	<span class="p">}</span>
<span class="p">}</span>
</code></pre></div>    </div>

    <p>setState에 들어오는 인자가 this.setState와 같이 객체로도 들어올 수 있다. 기존 state 값에 의존적으로 변경하고 싶다면 객체가 아니라, 함수를 하용할 수 있다.</p>

    <p>state를 받아서 새로운 state를 return하는 형식으로 작성한다.</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nf">Example2</span><span class="p">()</span> <span class="p">{</span>
  <span class="p">...</span>
  <span class="kd">function</span> <span class="nf">click</span><span class="p">()</span> <span class="p">{</span>
    <span class="nf">setState</span><span class="p">(</span><span class="nx">state</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="k">return</span> <span class="p">{</span>
        <span class="na">count</span><span class="p">:</span> <span class="nx">state</span><span class="p">.</span><span class="nx">count</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span>
      <span class="p">}</span>
    <span class="p">})</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>    </div>

    <p>해당 방식으로 사용하는 것은 중요하다. 추후에 setState만 사용하는 것이 아니라, setState가 어떤 것을 의존해서 사용하고 있는지 중요해진다. 간단하게 말하자면 의존적으로 state를 처리하지 않게 되기 때문에.. (나중에 이게 굉장히 중요해지는 듯) 해당 방식을 필히 이해해야 한다.</p>
  </li>
</ul>

<h2 id="useeffect"><strong>useEffect</strong></h2>

<hr />

<p>라이프 사이클 훅을 대체할 수 있다. 다만, 대체 할 수 있다는 것이지 동등한 역할을 한다는 것은 아니다.<br />
useEffect는 여러가지 기능이 있는데 componentDidMount, componentDicUpdate, componentWillUnmount 라이프 사이클 훅을 대체할 수 있다.</p>

<p><strong>Class Component</strong></p>

<p>최초의 render가 발생한 직후에 componentDidMount를 구현</p>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">export</span> <span class="k">default</span> <span class="kd">class</span> <span class="nc">Example1</span> <span class="kd">extends</span> <span class="nc">React</span><span class="p">.</span><span class="nx">Component</span> <span class="p">{</span>
	<span class="nx">state</span> <span class="o">=</span> <span class="p">{</span> <span class="na">count</span><span class="p">:</span> <span class="mi">0</span> <span class="p">};</span>

	<span class="nf">render</span><span class="p">()</span> <span class="p">{</span>
		<span class="kd">const</span> <span class="p">{</span> <span class="nx">count</span> <span class="p">}</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">;</span>

		<span class="nf">retrun</span><span class="p">(</span>
			<span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
				<span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>You clicked <span class="si">{</span><span class="nx">count</span><span class="si">}</span> times<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
				<span class="p">&lt;</span><span class="nt">button</span> <span class="na">onClick</span><span class="p">=</span><span class="si">{</span><span class="nx">click</span><span class="si">}</span><span class="p">&gt;</span>Click me<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
			<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
		<span class="p">);</span>
	<span class="p">}</span>
	<span class="c1">// 최초의 render가 된 직후</span>
	<span class="nf">componentDidMount</span><span class="p">()</span> <span class="p">{</span>
		<span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">componentDidMount</span><span class="dl">'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">count</span><span class="p">);</span>
	<span class="p">}</span>

	<span class="nf">componentDidUpdate</span><span class="p">()</span> <span class="p">{</span>
		<span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">componentDidUpdate</span><span class="dl">'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">count</span><span class="p">);</span>
	<span class="p">}</span>

	<span class="nx">click</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
		<span class="k">this</span><span class="p">.</span><span class="nf">setState</span><span class="p">({</span> <span class="na">count</span><span class="p">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">count</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">});</span>
	<span class="p">};</span>
<span class="p">}</span>
</code></pre></div></div>

<p>최초 접속시 componentDidMount 0 출력<br />
버튼 클릭 시 componentDidUpdate 1 숫자 증가</p>

<p><strong>Function Component</strong></p>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nf">Example2</span><span class="p">()</span> <span class="p">{</span>
	<span class="kd">const</span> <span class="p">[</span><span class="nx">count</span><span class="p">,</span> <span class="nx">setCount</span><span class="p">]</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nf">useState</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>

	<span class="nx">React</span><span class="p">.</span><span class="nf">useEffect</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
		<span class="nx">conosle</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">componentDidMount &amp; componentDidUpdate</span><span class="dl">'</span><span class="p">,</span> <span class="nx">count</span><span class="p">);</span>
	<span class="p">});</span>

	<span class="nf">retrun</span><span class="p">(</span>
		<span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
			<span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>You clicked <span class="si">{</span><span class="nx">count</span><span class="si">}</span> times<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
			<span class="p">&lt;</span><span class="nt">button</span> <span class="na">onClick</span><span class="p">=</span><span class="si">{</span><span class="nx">click</span><span class="si">}</span><span class="p">&gt;</span>Click me<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
		<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
	<span class="p">);</span>

	<span class="kd">function</span> <span class="nf">click</span><span class="p">()</span> <span class="p">{</span>
		<span class="nf">setCount</span><span class="p">(</span><span class="nx">count</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
	<span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>최초 접속 시, componentDidMount &amp; componentDidUpdate 0 출력<br />
버튼 클릭 할 때마다 componentDidMount &amp; componentDidUpdate 1 숫자 증가</p>

<p>React.useEffect는 componentDidMount일 때에도 실행되고 componentDidUpdate일 때에도 실행된다.</p>

<ul>
  <li>
    <p><strong>React.DenpendencyList 추가</strong></p>

    <p>두번째 인자는 React.DenpendencyList로, 배열이다.</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">React</span><span class="p">.</span><span class="nf">useEffect</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
	<span class="nx">conosle</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">componentDidMount &amp; componentDidUpdate</span><span class="dl">'</span><span class="p">,</span> <span class="nx">count</span><span class="p">);</span>
<span class="p">},</span> <span class="p">[]);</span>
</code></pre></div>    </div>

    <p>두번째 인자를 추가하면 최초 접속시 0은 잘 출력되지만, 클릭을 해도 콘솔은 출력되지 않는다.</p>

    <p>두번째 인자가 없을때는, 항상 render가 된 직후에는 무조건 저 화살표함수(console.log…)를 실행하라는 의미이다.</p>

    <p>두번째 인자로 빈 배열을 넣으면, 최초에만 실행이 된다고 선언된다.<br />
배열 안의 값으로 인해 return(render) 될 때, 직후에 useEffect를 실행하라는 역할로 사용된다. 현재 배열 안에는 아무 값도 없기 때문에 어떤 것에 의해서 render가 되더라도 해당 함수는 최초 말고는 다시 실행되지 않는 것이다.</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">React</span><span class="p">.</span><span class="nf">useEffect</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
	<span class="nx">conosle</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">componentDidMount</span><span class="dl">'</span><span class="p">,</span> <span class="nx">count</span><span class="p">);</span>
<span class="p">},</span> <span class="p">[]);</span>
</code></pre></div>    </div>

    <p>따라서, 엄밀히 말하자면 해당 코드는 componentDidMount &amp; componentDidUpdate가 아닌 componentDidMount인 것이다.</p>
  </li>
  <li>
    <p><strong>useEffect 여러개 사용</strong></p>

    <p>useEffect는 여러개 사용이 가능한데, 두개 이상이 존재한다면 순차적으로 실행된다. 따라서 dependecy에 맞는 것일 때만, 안의 함수를 실행한다.</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// 최초 한 번만 실행</span>
<span class="nx">React</span><span class="p">.</span><span class="nf">useEffect</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">conosle</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">componentDidMount</span><span class="dl">'</span><span class="p">)</span>
<span class="p">}.[])</span>

<span class="c1">// 최초 한 번 + count가 업데이트 될 때만 실행</span>
<span class="nx">React</span><span class="p">.</span><span class="nf">useEffect</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">conosle</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">componentDidMount &amp; componentDidUpdate</span><span class="dl">'</span><span class="p">,</span> <span class="nx">count</span><span class="p">)</span>
<span class="p">},[</span><span class="nx">count</span><span class="p">])</span>
</code></pre></div>    </div>

    <p>count에 dependency가 있다는 건 count가 변했을 때만 render가 업데이트 된 것에 의해서 useEffect가 실행된다는 것이다.</p>
  </li>
  <li>
    <p><strong>componentWillUnmount 역할</strong></p>

    <p>useEffect 안의 함수가 새로운 함수를 return하도록 한다. 최초 render가 된 직후, 다음 dependency에 의해서 함수가 실행되기 직전에 return을 실행하고 console이 실행된다.</p>

    <p>따라서 return 부분이 componentWillUnmount의 역할이다.</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">React</span><span class="p">.</span><span class="nf">useEffect</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
	<span class="nx">conosle</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">componentDidMount</span><span class="dl">'</span><span class="p">,</span> <span class="nx">count</span><span class="p">);</span>

	<span class="k">return </span><span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
		<span class="c1">// cleanup</span>
		<span class="c1">// componentWillUmount</span>
	<span class="p">};</span>
<span class="p">});</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>useContext
추후에 따로 정리하도록 한다.</p>
  </li>
</ul>

    



<div class="post-tags">
  
    
    <a href="/tags.html#til">
    
      <span class="icon">
        <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16z"/>
</svg>
      </span>&nbsp;<span class="tag-name">TIL</span>
    </a>
  
    
    <a href="/tags.html#react">
    
      <span class="icon">
        <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16z"/>
</svg>
      </span>&nbsp;<span class="tag-name">React</span>
    </a>
  
</div>
  </div>

  
  <section class="comments">
    <h2>Comments</h2>
    
  <p>
    You are seeing this because your Disqus shortname is not properly set. To
    configure Disqus, you should edit your <code>_config.yml</code> to include
    either a <code>disqus.shortname</code> variable.
  </p>

  <p>
    If you do not wish to use Disqus, override the
    <code>comments.html</code> partial for this theme.
  </p>


  </section>

  <section class="related">
  <h2>Related Posts</h2>
  <ul class="posts-list">
    
      <li>
        <h3>
          <a href="/til/2025/04/20/Creating-A-Discord-Music-Bot.html">
            디스코드(Discord) 노래봇 만들기 🎵 (with Node.js)
            <small>20 Apr 2025</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/til/2025/03/06/M3D-Blog-Create-Sitemap-and-Error-Solution.html">
            jekyll Github 블로그 sitemap 파일 생성하기 & `ERROR: While executing gem ... (Gem::FilePermissionError)` 에러 해결방법
            <small>06 Mar 2025</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/til/2025/02/28/M3D-Session-Local-Storage.html">
            매3개 | 브라우저 저장소 (Session Storage, Local Storage, Cookie)
            <small>28 Feb 2025</small>
          </a>
        </h3>
      </li>
    
  </ul>
</section>

</div>
</main>

		<!-- Optional footer content -->

	</body>
</html>
